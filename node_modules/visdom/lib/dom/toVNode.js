"use strict";

function toVNode(node) {
  if (node.nodeType === Node.TEXT_NODE) {
    return node.textContent;
  }

  var children = Array.from(node.childNodes).map(toVNode);

  var vnode = {
    name: node.nodeName.toLowerCase(),
    data: {},
    children: children
  };

  if (node.className) {
    vnode.data.className = node.className;
  }

  var styleKeys = Object.keys(node);

  if (styleKeys.length) {
    styleKeys.forEach(function (styleKey) {
      vnode.data[styleKey] = node.style[styleKey];
    });
  }

  if (node.id) {
    vnode.data.id = node.id;
  }

  return vnode;
}

module.exports = toVNode;