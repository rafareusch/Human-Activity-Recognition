'use strict';

var domProps = require('./props');

function createNodeFromVNode(vnode) {
  if (typeof vnode === 'string') {
    return document.createTextNode(vnode);
  }

  var el = document.createElement(vnode.name);
  var data = Object.assign({}, vnode.data);

  if (data.children) {
    delete data.children;
  }

  Object.keys(data || {}).forEach(function (prop) {
    el.setAttribute(domProps[prop] ? domProps[prop] : prop, vnode.data[prop]);
  });

  if (vnode.children) {
    vnode.children.forEach(function (c) {
      el.appendChild(createNodeFromVNode(c));
    });
  }

  return el;
}

module.exports = createNodeFromVNode;